<!DOCTYPE HTML>
<html>
<head>
    <meta name="viewport" content="width=device-width,
        user-scalable=no, initial-scale=1, maximum-scale=1, user-scalable=0" />

    <style>
        body {
            margin: 25px;
            font-size: 3em;
        }

        h1 {
          text-align: center;
          font-family: monospace;
        } 
        
        #demo {
          text-align: center;
          font-family: monospace;
          color: darkred;   
        }
    </style>
</head>
<body>
    <h1>Class Days Remaining for the SCHS Class of 2022</h1>
    <h2 id="demo"></h2>

    <script>
    let skipThese = [new Date("Apr 2, 2022 00:01:00").getTime(),
                     new Date("Apr 3, 2022 00:01:00").getTime(),
                     new Date("Apr 9, 2022 00:01:00").getTime(),
                     new Date("Apr 10, 2022 00:01:00").getTime(),
                     new Date("Apr 13, 2022 00:01:00").getTime(),
                     new Date("Apr 14, 2022 00:01:00").getTime(),
                     new Date("Apr 15, 2022 00:01:00").getTime(),
                     new Date("Apr 16, 2022 00:01:00").getTime(),
                     new Date("Apr 17, 2022 00:01:00").getTime(),
                     new Date("Apr 23, 2022 00:01:00").getTime(),
                     new Date("Apr 24, 2022 00:01:00").getTime(),
                     new Date("Apr 30, 2022 00:01:00").getTime(),
                     new Date("May 1, 2022 00:01:00").getTime(),
                     new Date("May 7, 2022 00:01:00").getTime(),
                     new Date("May 8, 2022 00:01:00").getTime(),
                     new Date("May 14, 2022 00:01:000").getTime(),
                     new Date("May 15, 2022 00:01:00").getTime()];

    // Set the date we're counting down to
    let countDownDate = new Date("May 20, 2022 10:41:00").getTime();

    // Update the count down every 1 second
    let x = setInterval(function() {
        var skipCount = 0;

        // Get today's date and time
        var now = new Date().getTime();

        // Find the distance between now and the count down date
        var distance = countDownDate - now;
            
        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));

        // Count skipped days remaining
        for (let d = 0; d < skipThese.length; d++) {
            let gap = Math.ceil((skipThese[d] - now) / (1000 * 60 * 60 * 24));
            // console.log(now + ", " + skipThese[d] + ", " + gap);
            if( gap > 0) {
                skipCount++;
            }
        }

        days = days - skipCount + 1; // subtract non-senior school days.

        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);
            
        // Output the result in an element with id="demo"
        document.getElementById("demo").innerHTML = days 
         // + "d " + hours + "h " + minutes + "m " + seconds + "s ";
            
        // If the count down is over, write some text 
        if (distance < 0) {
            clearInterval(x);
            document.getElementById("demo").innerHTML = "They are done!!!!!";
        }
    }, 1000);
    </script>

</body>
</html>
